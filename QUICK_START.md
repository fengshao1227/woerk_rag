# RAG ç³»ç»Ÿå¿«é€Ÿå¼€å§‹æŒ‡å—

## 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–

```bash
cd /Users/li/Desktop/work7_8/www/bv-fm-ssr/rag
pip install -r requirements.txt
```

### ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ Qdrant

```bash
./scripts/start_qdrant.sh
```

æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼š

```bash
docker run -d -p 6333:6333 qdrant/qdrant
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½® API Key

```bash
cp .env.example .env
# ç¼–è¾‘ .envï¼Œå¡«å…¥ä½ çš„ ANTHROPIC_API_KEY
```

### ç¬¬å››æ­¥ï¼šç´¢å¼•é¡¹ç›®

```bash
./scripts/index_project.sh
```

æˆ–è€…æ‰‹åŠ¨ï¼š

```bash
python -m rag.indexer.index_all
```

### ç¬¬äº”æ­¥ï¼šå¼€å§‹ä½¿ç”¨

#### æ–¹å¼1ï¼šCLI äº¤äº’ï¼ˆæ¨èï¼‰

```bash
python -m rag.qa.cli
```

#### æ–¹å¼2ï¼šAPI æœåŠ¡

```bash
./scripts/start_api.sh
```

ç„¶åè®¿é—®ï¼šhttp://localhost:8000/docs

---

## ç¤ºä¾‹é—®é¢˜

å°è¯•é—®è¿™äº›é—®é¢˜ï¼š

1. **æ¶æ„ç›¸å…³**
   - "é¡¹ç›®çš„æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆï¼Ÿ"
   - "ä½¿ç”¨ä»€ä¹ˆæƒé™æ§åˆ¶ç³»ç»Ÿï¼Ÿ"
   - "Repository æ¨¡å¼çš„å®ç°è§„èŒƒæ˜¯ä»€ä¹ˆï¼Ÿ"

2. **ä»£ç å®ç°**
   - "å¦‚ä½•å®ç°å·¥ä½œæµå®¡æ‰¹ï¼Ÿ"
   - "çŠ¶æ€è½¬æ¢æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"
   - "å¦‚ä½•å‘é€é‚®ä»¶é€šçŸ¥ï¼Ÿ"

3. **åŠŸèƒ½æŸ¥è¯¢**
   - "Responder æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ï¼Ÿ"
   - "å¦‚ä½•å¤„ç†å¼‚å¸¸ï¼Ÿ"
   - "å¦‚ä½•ç”Ÿæˆæµç¨‹ç¼–å·ï¼Ÿ"

---

## å¸¸ç”¨å‘½ä»¤

```bash
# é‡æ–°ç´¢å¼•
python -m rag.indexer.index_all

# å¯åŠ¨ CLI
python -m rag.qa.cli

# å¯åŠ¨ API
uvicorn rag.api.server:app --reload

# è¿è¡Œè¯„ä¼°
python -m rag.eval.evaluator

# æŸ¥çœ‹æ—¥å¿—
tail -f logs/rag.log
```

---

## ç›®å½•ç»“æ„é€Ÿè§ˆ

```
rag/
â”œâ”€â”€ indexer/          # ç´¢å¼•å™¨ï¼ˆé‡‡é›†ã€åˆ‡åˆ†ã€åµŒå…¥ï¼‰
â”œâ”€â”€ retriever/        # æ£€ç´¢å™¨ï¼ˆå‘é‡æ£€ç´¢ã€æ··åˆæ£€ç´¢ï¼‰
â”œâ”€â”€ qa/               # é—®ç­”ï¼ˆLangChain é“¾ã€CLIï¼‰
â”œâ”€â”€ api/              # API æœåŠ¡ï¼ˆFastAPIï¼‰
â”œâ”€â”€ eval/             # è¯„ä¼°ï¼ˆæµ‹è¯•ç”¨ä¾‹ã€æŒ‡æ ‡ï¼‰
â”œâ”€â”€ scripts/          # å·¥å…·è„šæœ¬
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â””â”€â”€ logs/             # æ—¥å¿—æ–‡ä»¶
```

---

## ä¸‹ä¸€æ­¥

- ğŸ“– è¯¦ç»†éƒ¨ç½²æŒ‡å—ï¼š[SETUP_GUIDE.md](SETUP_GUIDE.md)
- ğŸ”§ è°ƒä¼˜å‚æ•°ï¼šç¼–è¾‘ `.env` æ–‡ä»¶
- ğŸ“Š è¯„ä¼°è´¨é‡ï¼š`python -m rag.eval.evaluator`
- ğŸš€ ç”Ÿäº§éƒ¨ç½²ï¼šå‚è€ƒ Phase 3 è®¡åˆ’
